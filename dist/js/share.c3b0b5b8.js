(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["share"],{"0582":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var a=n("e490");function i(t){var e=document.getElementsByTagName("head")[0];if(e){var n=e.getElementsByTagName("style"),a=n[0];a||(a=document.createElement("style"),a.setAttribute("type","text/css"),e.appendChild(a)),a.appendChild(document.createTextNode(t))}}function r(){a["e"]&&i("body,html{font-family: miui !important;}")}},"09ea":function(t,e,n){"use strict";var a=n("bc3a"),i=n.n(a),r="/activity/getActivityInfoById",o="/activity/saveUserAnswer",c="/activity/getUserInfoByActivityId",s="/activity/getAcShareInfoById";e["a"]={getActivityConfig:function(){return i.a.get(r)},getActivityInfo:function(){return i.a.get(c,{params:{$userId:"uId",type:1}})},report:function(t){var e={answerInfo:JSON.stringify(t),type:1};return i.a.post(o,e)},getShareInfo:function(){return i.a.get(s)}}},1311:function(t,e,n){"use strict";var a=n("9cc0"),i=n.n(a);i.a},2687:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",{staticClass:"b-vote-share hetv-theme-bg-image",attrs:{img:t.img,"logo-img":t.logoImg,schedule:t.schedule,title:t.title,"img-info":t.imgInfo,"hide-header":!0}},[a("div",{staticClass:"nav",attrs:{slot:"nav"},slot:"nav"},[a("div",{staticClass:"nav-download"},[a("img",{attrs:{src:n("4ffd")}}),a("span",{staticClass:"name"},[t._v("花伴屏")]),a("span",{staticClass:"btn",on:{click:t.download}},[t._v("下载")])])]),a("div",{staticClass:"wrapper"},[a("img",{staticClass:"avatar",attrs:{src:t._f("jointImgURL")(t.avatar)}}),a("pre",{staticClass:"info"},[t._v(t._s(t.info))]),a("img",{staticClass:"qrcode",attrs:{src:t._f("jointImgURL")(t.qrImg)}}),a("span",{staticClass:"bottom"},[t._v("快下载花伴屏APP零距离现场互动")]),a("span",{staticClass:"bottom"},[t._v("还有更多神秘惊喜等着你！")])]),a("span",{attrs:{slot:"footer"},slot:"footer"},[t._v("\n    您的任何问题都可以第一时间联系客服："),a("a",{attrs:{href:"tel:15201195975"}},[t._v("15201195975")])])])},i=[],r=n("e490"),o=n("c7d5"),c=n("635b"),s=n("989b"),u=n("97bd"),f=n("4477"),l={name:"BVoteShare",components:{Page:u["a"]},props:{img:{type:String,default:""},imgInfo:{type:String,default:""},logoImg:{type:String,default:""},schedule:{type:String,default:""},title:{type:String,default:""},avatar:{type:String,default:""},info:{type:String,default:""},baseUrl:{type:String,default:""},qrImg:{type:String,default:""}},methods:{initShare:function(t){var e="口袋里的电视，客厅里的精彩，花伴屏陪你速览电视。",n=window.location.href;Object(c["a"])(t,e,n)},download:function(){this.copy(),this.report(),Object(s["a"])()},report:function(){var t={type:3,method:2,item:3};Object(f["a"])("national",t)},copy:function(){var t={type:2,sceneType:1,url:this.baseUrl,source:r["a"],id:r["b"],checkType:6};Object(o["a"])(t)}}},g=l,m=(n("5b79"),n("2877")),d=Object(m["a"])(g,a,i,!1,null,"76ffcc6b",null);e["a"]=d.exports},4477:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var a=n("4328"),i=n.n(a),r=n("bc3a"),o=n.n(r),c=n("6a0b");function s(t){switch(t){case"cinema":return"http://log.onairm.cn/web/activity/cinema/log";case"national":return"http://log.onairm.cn/web/activity/nationalDay/log"}}var u=o.a.create();function f(t,e){var n=s(t);return u.post(n,e)}u.interceptors.request.use(function(t){return Object(c["d"])().then(function(e){if("post"!==t.method)return t;var n=JSON.stringify(Object.assign({},t.data,{userId:e.userId,activityId:e.activityId||0,time:(Date.now()/1e3).toFixed()}));return t.data=i.a.stringify({content:n}),t})},function(t){return Promise.reject(t)})},4677:function(t,e,n){"use strict";n.d(e,"b",function(){return h});var a=n("cebc"),i=n("bc3a"),r=n.n(i),o="/activity/v2/saveUserAnswer",c="/activity/v2/getActivityDetail",s="/activity/v2/getUserInfoByActivityId",u="/activity/getActivityPrizeList",f="/activity/getLuckDrawInfo",l="/activity/doLuckDraw",g="/activity/getPrizeRecordList",m="/activity/getUserPrizeList",d="/activity/getUserActivityResults";function h(t){var e=t.questionList;return e.map(function(t){var e=t.options,n=JSON.parse(t.answerNum||"[]");n=n.reduce(function(t,e){return t[e.SerialNumber]=e.rate,t},{});var i=v(e,n,t.userAnswer,t.rightAnswer);return Object(a["a"])({},t,{options:i,checked:[]})})}function v(t,e,n,a){var i=JSON.parse(t);return"string"===typeof i?this.parseOptions(t):(i=i.map(function(t,i){"string"===typeof t&&(t=JSON.parse(t));var r=t.SerialNumber;return{value:r,label:t.content||"",img:t.img,right:a===r,checked:n===r,rate:e[r]||"0%",disabled:!1}}),i)}e["a"]={getActivityDetail:function(){return r.a.get(c)},getActivityStatus:function(){return r.a.get(s)},report:function(t){var e={answerInfo:JSON.stringify(t),type:1};return r.a.post(o,e)},getPrizeList:function(t){return r.a.get(u,{params:t})},getLuckDrawInfo:function(){return r.a.get(f)},doLuckDraw:function(){return r.a.post(l)},getPrizeRecordList:function(){return r.a.get(g)},getUserPrizeList:function(){return r.a.get(m)},getActivityResult:function(t){return r.a.get(d,{params:t})}}},"4ffd":function(t,e,n){t.exports=n.p+"img/logo.7856dc85.png"},"5b79":function(t,e,n){"use strict";var a=n("e4eb"),i=n.n(a);i.a},"5df3":function(t,e,n){"use strict";var a=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=a(e,n),this._i+=t.length,{value:t,done:!1})})},6001:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("share",{ref:"share",attrs:{avatar:t.avatar,info:t.info,img:t.config.titleImg,"img-info":t.config.titleImgInfo,"logo-img":t.config.logo,title:t.config.title,schedule:t.config.schedule,"base-url":t.baseUrl,"qr-img":t.config.qrImg}})},i=[],r=n("09ea"),o=n("e490"),c=n("751a"),s=n("0582"),u=n("6a0b"),f=n("2687"),l=n("4477"),g=window.location.href,m={name:"VShoppingShare",components:{Share:f["a"]},data:function(){return{config:{}}},computed:{avatar:function(){var t=Object(c["a"])(g,"usericon");return decodeURIComponent(t)},columnName:function(){return this.config.columnName||""},nickname:function(){var t=Object(c["a"])(g,"nickname");return decodeURIComponent(t)},shareContent:function(){return"你的好友".concat(this.nickname,"正在参与《").concat(this.columnName,"》直播竞猜！快来一起参与")},type:function(){return Object(c["a"])(g,"type")},info:function(){var t=this.nickname;return"home"===this.type?"你的好友".concat(t,"在《").concat(this.columnName,"》直播互动中投了决定性一票！快来一起参与！\n节目因你而精彩！"):"你的好友".concat(t,"，在《").concat(this.columnName,"》直播互动中参与了节目投票活动！\n你也快来和他一起为支持的主持人投票吧！")},baseUrl:function(){var t="http://frontend.onairm.cn";return"".concat(t,"/hetv/shopping.html?hideNavBar=true&forbidReload=true&activityId=").concat(o["b"])}},mounted:function(){this.reportET(),this.getShareInfo()},methods:{loadCss:function(t,e){var n=".hetv-theme-bg-color { background-color: ".concat(t," !important; }\n                 .hetv-theme-btn-bg-color { background-color: ").concat(t," !important; }\n                 .hetv-theme-bg-image {background-image:url(").concat(e,") !important; background-size:cover;background-position:center;background-repeat:no-repeat}");Object(s["b"])(n)},reportET:function(){var t={type:1,method:2,item:1};Object(l["a"])("national",t)},getShareInfo:function(){var t=this;return r["a"].getShareInfo().then(function(e){t.config=e,t.loadCss(e.buttonColor,Object(u["e"])(e.templateImg)),t.$refs.share.initShare(t.shareContent)})}}},d=m,h=n("2877"),v=Object(h["a"])(d,a,i,!1,null,"021c9a5f",null);e["default"]=v.exports},8466:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("share",{ref:"share",attrs:{avatar:t.avatar,info:t.info,img:t.config.titleImg,"img-info":t.config.titleImgInfo,"logo-img":t.config.logo,title:t.config.title,schedule:t.config.schedule,"base-url":t.baseUrl,"qr-img":t.config.qrImg}})},i=[],r=(n("ac6a"),n("5df3"),n("b451")),o=n("751a"),c=n("e490"),s=n("f26e"),u=n("0582"),f=n("6a0b"),l=n("2687"),g=n("4477"),m=window.location.href,d={name:"VQaShare",components:{Share:l["a"]},data:function(){return{config:{},info:""}},computed:{columnName:function(){return this.config.columnName||""},avatar:function(){var t=Object(o["a"])(m,"usericon");return decodeURIComponent(t)},nickname:function(){var t=Object(o["a"])(m,"nickname");return decodeURIComponent(t)},userId:function(){var t=Object(o["a"])(m,"userId");return decodeURIComponent(t)},shareContent:function(){return"你的好友".concat(this.nickname,"正在《").concat(this.columnName,"》直播中参加问答活动，快来一起参与吧")},baseUrl:function(){var t="http://frontend.onairm.cn";return"".concat(t,"/hetv/qa.html?hideNavBar=true&forbidReload=true&activityId=").concat(c["b"])}},mounted:function(){this.reportET(),this.fetchData()},methods:{loadCss:function(t,e){var n=".hetv-theme-bg-color { background-color: ".concat(t," !important; }\n                 .hetv-theme-btn-bg-color { background-color: ").concat(t," !important; }\n                 .hetv-theme-bg-image {background-image:url(").concat(e,") !important; background-size:cover;background-position:center;background-repeat:no-repeat}");Object(u["b"])(n)},reportET:function(){var t={type:1,method:2,item:1};Object(g["a"])("national",t)},parseInfo:function(t){var e=this.nickname,n="";n=t.resultId?"您的好友".concat(e,"\n在《").concat(this.columnName,"》问答活动中一展才华！\n累计答题").concat(t.questionNum,"次，正确率").concat(t.rightRate,"， 超越了").concat(t.beatRate,"的用户\n马上扫码关注栏目互动！还有更多惊喜等你来！"):"您的好友".concat(e,"\n正在《").concat(this.columnName,"》问答活动中大展身手！\n马上扫码一起参与吧！节目有你更精彩！"),this.info=n},fetchData:function(){var t=this,e=Object(s["c"])("加载中");Promise.all([this.getShareInfo(),this.getActivityDetail()]).then(function(n){setTimeout(function(){e.hide()},1e3);var a=n[0],i=n[1];t.config=i,t.parseInfo(a),t.loadCss(i.buttonColor,Object(f["e"])(i.templateImg)),t.$refs.share.initShare(t.shareContent)}).catch(function(t){e.hide()})},getShareInfo:function(){var t={type:2,activityId:c["b"],uId:this.userId};return r["a"].getActivityResult(t)},getActivityDetail:function(){return r["a"].getActivityDetail()}}},h=d,v=n("2877"),p=Object(v["a"])(h,a,i,!1,null,null,null);e["default"]=p.exports},"97bd":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-vote-wrapper",class:{"hide-header":t.hideHeader}},[t._t("nav"),t.showBanner?n("div",{staticClass:"b-vote-wrapper-header"},[t.logoImg?n("img",{staticClass:"logo",attrs:{src:t._f("jointImgURL")(t.logoImg),alt:""}}):t._e(),t.img?[n("img",{staticClass:"banner",style:t.imgStyle,attrs:{src:t._f("jointImgURL")(t.img),alt:""}})]:[n("span",{staticClass:"header-schedule"},[t._v(t._s(t.schedule)+" ")]),n("pre",{staticClass:"header-title"},[t._v(t._s(t.title))])]],2):t._e(),n("div",{staticClass:"b-vote-wrapper-main"},[t._t("default")],2),n("div",{staticClass:"footer"},[t._t("footer",[n("span",[t._v("本活动由花伴屏提供技术支持")]),t.isiOS?n("span",[t._v("上述业务推广，营销活动等内容与苹果公司无关。")]):t._e()])],2)],2)},i=[],r=n("e490"),o=window.innerWidth,c={name:"BVoteWrapper",props:{img:{type:String,default:""},imgInfo:{type:String,default:""},logoImg:{type:String,default:""},hideHeader:{type:Boolean,default:!1},showBanner:{type:Boolean,default:!0},schedule:{type:String,default:""},title:{type:String,default:""}},computed:{isiOS:function(){return r["i"]},imgStyle:function(){var t=this.imgInfo;if(t){t=JSON.parse(t);var e=t.imgh/t.imgw*o;return"height: ".concat(e,"px")}return""}}},s=c,u=(n("1311"),n("2877")),f=Object(u["a"])(s,a,i,!1,null,"471b915a",null);e["a"]=f.exports},"9cc0":function(t,e,n){},b451:function(t,e,n){"use strict";var a=n("bc3a"),i=n.n(a),r="/activity/v2/saveUserAnswer",o="/activity/v2/getActivityDetail",c="/activity/v2/getUserInfoByActivityId",s="/activity/getUserActivityResults";e["a"]={getActivityDetail:function(){return i.a.get(o)},getActivityStatus:function(){return i.a.get(c)},report:function(t){var e={answerInfo:JSON.stringify(t),type:1};return i.a.post(r,e)},getActivityResult:function(t){return i.a.get(s,{params:t})}}},e2e1:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("share",{ref:"share",attrs:{avatar:t.avatar,info:t.info,img:t.config.titleImg,"img-info":t.config.titleImgInfo,"logo-img":t.config.logo,title:t.config.title,schedule:t.config.schedule,"base-url":t.baseUrl,"qr-img":t.config.qrImg}})},i=[],r=(n("ac6a"),n("5df3"),n("4677")),o=n("751a"),c=n("e490"),s=n("f26e"),u=n("0582"),f=n("6a0b"),l=n("2687"),g=n("4477"),m=window.location.href,d={name:"VQuizShare",components:{Share:l["a"]},data:function(){return{config:{},info:""}},computed:{columnName:function(){return this.config.columnName||""},avatar:function(){var t=Object(o["a"])(m,"usericon");return decodeURIComponent(t)},shareContent:function(){return"你的好友".concat(this.nickname,"正在参与《").concat(this.columnName,"》直播竞猜！快来一起参与")},nickname:function(){var t=Object(o["a"])(m,"nickname");return decodeURIComponent(t)},userId:function(){var t=Object(o["a"])(m,"userId");return decodeURIComponent(t)},baseUrl:function(){var t="http://frontend.onairm.cn";return"".concat(t,"/hetv/quiz.html?hideNavBar=true&forbidReload=true&activityId=").concat(c["b"])}},mounted:function(){this.reportET(),this.fetchData()},methods:{loadCss:function(t,e){var n=".hetv-theme-bg-color { background-color: ".concat(t," !important; }\n                 .hetv-theme-btn-bg-color { background-color: ").concat(t," !important; }\n                 .hetv-theme-bg-image {background-image:url(").concat(e,") !important; background-size:cover;background-position:center;background-repeat:no-repeat}");Object(u["b"])(n)},reportET:function(){var t={type:1,method:2,item:1};Object(g["a"])("national",t)},parseInfo:function(t){var e="",n=this.nickname;if(t.resultId){var a="累计答题".concat(t.questionNum,"次，正确率").concat(t.rightRate,"，击败了").concat(t.beatRate,"的用户");e=2!==t.isPrize?"你的好友".concat(n,"，在《").concat(this.columnName,"》直播互动中参与了节目竞猜活动。\n").concat(a,"\n想不想一试身手？快来参加吧！"):"您的好友".concat(n,"在《").concat(this.columnName,"》竞猜活动中发挥出色获得抽取大奖机会！\n").concat(a,"\n快来关注活动！多种惊喜在等你！")}else e="你的好友".concat(n,"，在《").concat(this.columnName,"》直播互动中参与了节目竞猜活动，活动时间有限\n精彩无限！快来参与！");this.info=e},fetchData:function(){var t=this,e=Object(s["c"])("加载中");Promise.all([this.getShareInfo(),this.getActivityDetail()]).then(function(n){var a=n[0],i=n[1];t.config=i,t.parseInfo(a),t.loadCss(i.buttonColor,Object(f["e"])(i.templateImg)),t.$refs.share.initShare(t.shareContent),setTimeout(function(){e.hide()},1e3)}).catch(function(t){e.hide()})},getShareInfo:function(){var t={type:2,activityId:c["b"],uId:this.userId};return r["a"].getActivityResult(t)},getActivityDetail:function(){return r["a"].getActivityDetail()}}},h=d,v=n("2877"),p=Object(v["a"])(h,a,i,!1,null,"660d1202",null);e["default"]=p.exports},e4eb:function(t,e,n){}}]);