(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home~list"],{"20fd":function(t,n,e){"use strict";var i=e("d9f6"),a=e("aebd");t.exports=function(t,n,e){n in t?i.f(t,n,a(0,e)):t[n]=e}},"458f":function(t,n,e){},"4c63":function(t,n){t.exports="data:image/png;base64,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"},"4c9a":function(t,n,e){},"549b":function(t,n,e){"use strict";var i=e("d864"),a=e("63b6"),s=e("241e"),o=e("b0dc"),r=e("3702"),c=e("b447"),u=e("20fd"),l=e("7cd6");a(a.S+a.F*!e("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var n,e,a,f,d=s(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,b=void 0!==v,m=0,g=l(d);if(b&&(v=i(v,p>2?arguments[2]:void 0,2)),void 0==g||h==Array&&r(g))for(n=c(d.length),e=new h(n);n>m;m++)u(e,m,b?v(d[m],m):d[m]);else for(f=g.call(d),e=new h;!(a=f.next()).done;m++)u(e,m,b?o(f,v,[a.value,m],!0):a.value);return e.length=m,e}})},"54a1":function(t,n,e){e("6c1c"),e("1654"),t.exports=e("95d5")},"5cc3":function(t,n,e){"use strict";e.d(n,"b",function(){return a}),e.d(n,"a",function(){return s});var i=window.outerHeight;function a(t){var n=450,e=window.outerHeight,a=t.scroll,s=a.startY,o=e-a.pointY;t&&a&&o<n&&i===e&&t.scrollTo(0,o+s-n,200)}function s(){setTimeout(function(){var t=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(t-1,0))},100)}},"607a":function(t,n,e){"use strict";var i=e("b11e"),a=e.n(i);a.a},"75fc":function(t,n,e){"use strict";var i=e("a745"),a=e.n(i);function s(t){if(a()(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}var o=e("774e"),r=e.n(o),c=e("c8bb"),u=e.n(c);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return s(t)||l(t)||f()}e.d(n,"a",function(){return d})},"774e":function(t,n,e){t.exports=e("d2d5")},"95d5":function(t,n,e){var i=e("40c3"),a=e("5168")("iterator"),s=e("481b");t.exports=e("584a").isIterable=function(t){var n=Object(t);return void 0!==n[a]||"@@iterator"in n||s.hasOwnProperty(i(n))}},a213:function(t,n,e){"use strict";var i=e("4c9a"),a=e.n(i);a.a},b11e:function(t,n,e){},bc75:function(t,n,e){"use strict";var i=e("458f"),a=e.n(i);a.a},c8bb:function(t,n,e){t.exports=e("54a1")},cdac:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"c-list"},[t.hasDatas?e("div",{staticClass:"c-list-header"},[e("span",{staticClass:"sign"},[t._v("//")]),t._v("\n    参赛作品\n    "),e("span",{staticClass:"sign"},[t._v("//")])]):t._e(),e("div",{on:{click:function(t){t.stopPropagation()}}},[t.hasDatas?e("cube-input",{ref:"inputSearch",staticClass:"input",attrs:{disabled:!!t.isOuter,placeholder:"输入作品编号查询"},on:{focus:t.onFocus,blur:t.onBlur},nativeOn:{click:function(n){return t.handleTabInput(n)}},model:{value:t.searchKey,callback:function(n){t.searchKey=n},expression:"searchKey"}},[e("i",{staticClass:"hsp icon-search",attrs:{slot:"prepend"},on:{click:t.toSearch},slot:"prepend"})]):t._e()],1),e("div",{staticClass:"ul"},t._l(t.items,function(n){return e("div",{key:n.heContentId,staticClass:"c-list-item",on:{click:function(e){return t.handleTapItem(n)}}},[e("item",{attrs:{info:n,"show-medal":t.config.crownNum>=n.rank},on:{vote:function(e){return t.handleVote(n)}}})],1)}),0)])},a=[],s=e("75fc"),o=e("cebc"),r=(e("c5f6"),e("aab2")),c=e("2f62"),u=e("f26e"),l=e("e490"),f=e("4a4b"),d=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"c-national-item"},[i("div",{staticClass:"content"},[i("div",{staticClass:"header"},[i("div",{staticClass:"rank",class:{medal:t.showMedal},attrs:{"data-rank":t.info.rank}},[t.showMedal?i("img",{attrs:{src:e("228f")}}):i("div",{staticClass:"hpx-circle"},[t._v(t._s(t.info.rank))])]),i("div",{staticClass:"info"},[i("span",[t._v("编号:"+t._s(t.info.votingCode))]),i("span",[t._v("票数:"),i("em",[t._v(t._s(t.info.voteTotal))]),t._v("票")])])]),i("div",{staticClass:"imgBox"},[i("img",{staticClass:"mini-play",attrs:{src:e("4c63")}}),i("div",{staticClass:"imgBox-eye-count"},[i("img",{staticClass:"hpx-eye",attrs:{src:e("7da9")}}),i("span",{staticClass:"count"},[t._v(t._s(t._f("numWFormat")(t.info.play_total)))])]),t.loadError?t._e():i("img",{attrs:{src:t._f("jointImgURL")(t.info.img)},on:{error:t.error,load:t.load}}),t.loadError?i("img",{attrs:{src:"https://mp.img.paas.onairm.cn/1957252449eef6cfcb9021693785331f"}}):t._e()])]),i("cube-button",{staticClass:"btn hetv-theme-btn-bg-color",class:{disabled:!!t.info.isVote},attrs:{disabled:!!t.info.isVote},on:{click:function(n){return n.stopPropagation(),t.handleVote(n)}}},[t._v("投TA一票")])],1)},h=[],p={name:"CNationalItem",props:{info:{type:Object,default:function(){return{}}},showMedal:{type:Boolean,default:!1}},data:function(){return{loadError:!1}},watch:{info:function(){this.loadError=!1}},methods:{handleVote:function(){this.$emit("vote")},error:function(){this.loadError=!0},load:function(){this.loadError=!1}}},v=p,b=(e("607a"),e("2877")),m=Object(b["a"])(v,d,h,!1,null,"18f8d106",null),g=m.exports,y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"transition-fade"}},[e("cube-popup",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],attrs:{type:"dialog","z-index":t.zIndex,mask:!0,center:!0}},[t.isVisible?e("div",{staticClass:"c-national-player transition-fade-main"},[e("div",{staticClass:"c-national-close",on:{click:t.hide}},[e("i",{staticClass:"cubeic-wrong"})]),t.isVisible?e("player",{attrs:{src:t._f("jointVideoURL")(t.info.videoUrl),"all-ready":!0,ticket:!0,info:t.info,reupload:!1,poster:t._f("jointImgURL")(t.info.img)},on:{play:t.play}}):t._e(),e("cube-button",{staticClass:"ta-btn hetv-theme-btn-bg-color",class:{disabled:!!t.info.isVote},attrs:{disabled:!!t.info.isVote},on:{click:function(n){return n.stopPropagation(),t.vote(n)}}},[t._v("\n        投TA一票\n      ")])],1):t._e()])],1)},A=[],w=e("9125"),C=e("11fd"),j=e("4e5f"),x={name:"NationalPlayer",components:{Player:w["a"]},mixins:[C["a"],j["a"]],props:{info:{type:Object,default:function(){return{}}}},methods:{vote:function(){this.$emit("vote")},play:function(){this.$emit("play")}}},I=x,E=(e("a213"),Object(b["a"])(I,y,A,!1,null,"26f1810a",null)),k=E.exports,O=e("df9a"),V=e("8bbf");Object(O["a"])(V,k,["click"],!0);var D={name:"CList",components:{Item:g},props:{size:{type:Number,default:20},showRank:{type:Boolean,default:!0}},data:function(){return{searchKey:"",searching:!1,page:0,hasDatas:!0,items:[]}},computed:Object(o["a"])({},Object(c["c"])({config:function(t){var n=t.national;return n.config},info:function(t){var n=t.user;return n.info}}),Object(c["b"])("national",["unionId"]),{isOuter:function(){return l["g"]}}),watch:{searchKey:function(t){t||this.fetchDatas(0)},searching:function(t){this.$emit("searchStatusChange",t)},unionId:function(){l["g"]&&this.fetchDatas(0)}},mounted:function(){var t=Object(u["c"])("加载中");this.fetchDatas(0).then(function(n){setTimeout(function(){t.hide()},400)}),this.obvInput()},beforeDestroy:function(){this.removeObvInput()},methods:{onFocus:function(){this.$emit("focus")},onBlur:function(){this.$emit("blur")},handleTabInput:function(){l["g"]&&Object(r["e"])()},handleTapItem:function(t){var n=this;this.$emit("playing");var e={$props:{info:t},$events:{vote:function(){n.handleVote(t)},play:function(){t.play_total+=1}}};this.$createNationalPlayer(e).show()},handleVote:function(t){var n=this;l["g"]||f["a"].getActivityInfo(),!l["g"]||this.unionId?this.vote(t).then(function(n){t.isVote=1,t.voteTotal+=1,Object(u["d"])("已投票，感谢您的支持","error")}).catch(function(t){4102===t.statusCode&&(l["g"]?Object(r["c"])(n.unionId,2):Object(u["d"])("很抱歉，活动已结束"))}):Object(r["d"])()},toSearch:function(){l["g"]||(this.$refs.inputSearch.blur(),this.searching=!0,this.fetchDatas(0))},obvKeyPress:function(t){t.key&&"enter"===t.key.toLowerCase()&&this.toSearch()},removeObvInput:function(){var t=this.$refs.inputSearch;if(t){var n=t.$refs.input;n&&n.removeEventListener("keydown",this.obvKeyPress)}},obvInput:function(){var t=this.$refs.inputSearch;if(t){var n=t.$refs.input;n&&n.addEventListener("keypress",this.obvKeyPress)}},refresh:function(){return this.fetchDatas(0)},load:function(){var t=this.page+1;return this.fetchDatas(t)},fetchDatas:function(t){var n=this,e=this.searchKey.trim();e||(this.searching=!1);var i=this.searching?this.searchContent(e):this.fetchContents(t);return i.then(function(e){n.page=t;var i=e||[];return n.searching&&0===i.length?Object(u["d"])("您输入的作品编号不存在","error"):n.items=0===t?Object(s["a"])(i):[].concat(Object(s["a"])(n.items),Object(s["a"])(i)),n.hasDatas=n.items.length>0,n.$emit("loadFinish",n.items.length),i})},fetchContents:function(t){var n=l["g"]?this.unionId:this.info.userId,e={page:t,size:this.size,uId:n};return f["a"].getContents(e)},searchContent:function(t){var n=l["g"]?this.unionId:this.info.userId,e={code:t,uId:n};return f["a"].searchContent(e)},vote:function(t){var n=l["g"]?this.unionId:this.info.userId,e={heContentId:t.heContentId,uId:n};return f["a"].vote(e)}}},K=D,q=(e("bc75"),Object(b["a"])(K,i,a,!1,null,"1cb2ed6e",null));n["a"]=q.exports},d2d5:function(t,n,e){e("1654"),e("549b"),t.exports=e("584a").Array.from}}]);