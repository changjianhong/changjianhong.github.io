(function(t){function e(e){for(var i,r,o=e[0],c=e[1],u=e[2],h=0,p=[];h<o.length;h++)r=o[h],s[r]&&p.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={"happy-quiz":0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([6,"chunk-vendors","chunk-common"]),n()})({"06f7":function(t,e,n){"use strict";var i=n("2f71"),s=n.n(i);s.a},1311:function(t,e,n){"use strict";var i=n("9cc0"),s=n.n(i);s.a},"23f6":function(t,e,n){"use strict";e["a"]={wwgwk_qrcode:"http://img.paas.onairm.cn/b32fb7025530ed5c2b03db47ab85f68f",ylxq_qrcode:"http://img.paas.onairm.cn/dc8e0c89ba8b5768b4c1b7269f55af0a",logo:"http://img.paas.onairm.cn/2737c0ea9240f2dc06058e66623b1860",logoAndName:"http://img.paas.onairm.cn/ad89283143e38b32b8111c4e7afee404",national_qrcode_wrapper:"http://img.paas.onairm.cn/151317ebd98b307a228b748e655960ee",activity_finished:"http://img.paas.onairm.cn/3d11386533a84129684ffd0a196f04ac",qa_activity_prize:"http://img.paas.onairm.cn/96d3c3a9173a69ad178776cf0854eeae"}},"257c":function(t,e,n){},"27b6":function(t,e,n){},"28e5":function(t,e,n){t.exports=n.p+"img/lottery-regret.2aa6f9cf.png"},"2be1":function(t,e,n){"use strict";var i=n("b262"),s=n.n(i);s.a},"2f71":function(t,e,n){},"34ab":function(t,e,n){"use strict";var i=n("e92f"),s=n.n(i);s.a},"49ec":function(t,e,n){t.exports=n.p+"img/lottery-delete.68b202ec.png"},5018:function(t,e,n){},"5c0c":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-vote-activity-info"},[t._m(0),n("pre",{domProps:{innerHTML:t._s(t.rule)}})])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h2",[n("span",[t._v("活动说明")])])}],a=(n("a481"),{name:"BVoteActivityInfo",props:{rules:{type:String,default:""}},computed:{rule:function(){var t=this.rules;return t=t.replace(/<a>(.*?)<\/a>/,function(t,e){return'<a href="tel:'.concat(e,'" class="phone-color">').concat(e,"</a>")}),t}}}),r=a,o=(n("c817"),n("2877")),c=Object(o["a"])(r,i,s,!1,null,"e23c5486",null);e["a"]=c.exports},"5db3":function(t,e,n){},6:function(t,e,n){t.exports=n("a918")},8850:function(t,e,n){"use strict";var i=n("27b6"),s=n.n(i);s.a},"8bbf":function(t,e){t.exports=Vue},"97bd":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-vote-wrapper",class:{"hide-header":t.hideHeader}},[t._t("nav"),t.showBanner?n("div",{staticClass:"b-vote-wrapper-header"},[t.logoImg?n("img",{staticClass:"logo",attrs:{src:t._f("jointImgURL")(t.logoImg),alt:""}}):t._e(),t.img?[n("img",{staticClass:"banner",style:t.imgStyle,attrs:{src:t._f("jointImgURL")(t.img),alt:""}})]:[n("span",{staticClass:"header-schedule"},[t._v(t._s(t.schedule)+" ")]),n("pre",{staticClass:"header-title"},[t._v(t._s(t.title))])]],2):t._e(),n("div",{staticClass:"b-vote-wrapper-main"},[t._t("default")],2),n("div",{staticClass:"footer"},[t._t("footer",[n("span",[t._v("本活动由花伴屏提供技术支持")]),t.isiOS?n("span",[t._v("上述业务推广，营销活动等内容与苹果公司无关。")]):t._e()])],2)],2)},s=[],a=n("e490"),r=window.innerWidth,o={name:"BVoteWrapper",props:{img:{type:String,default:""},imgInfo:{type:String,default:""},logoImg:{type:String,default:""},hideHeader:{type:Boolean,default:!1},showBanner:{type:Boolean,default:!0},schedule:{type:String,default:""},title:{type:String,default:""}},computed:{isiOS:function(){return a["i"]},imgStyle:function(){var t=this.imgInfo;if(t){t=JSON.parse(t);var e=t.imgh/t.imgw*r;return"height: ".concat(e,"px")}return""}}},c=o,u=(n("1311"),n("2877")),l=Object(u["a"])(c,i,s,!1,null,"471b915a",null);e["a"]=l.exports},"9cc0":function(t,e,n){},a918:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d"),n("df49");var i=n("031d"),s=n("0679"),a=n("1cc1"),r=n("0c29"),o=n("ae0c"),c=n("47fe"),u=(n("4cc8"),n("8bbf"));u.use(s["a"]),u.use(i["a"]),u.use(a["a"]),u.use(r["a"]),u.use(o["a"]),u.use(c["a"]);n("d921");var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("index")},h=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("home"):t._e()},f=[],d=(n("ac6a"),n("5df3"),n("cebc")),v=n("4477"),m=n("bc3a"),g=n.n(m),b="/activity/v2/saveUserAnswer",y="/activity/v2/getActivityDetail",q="/activity/v2/getUserInfoByActivityId",_="/activity/getActivityPrizeList",C="/activity/getLuckDrawInfo",w="/activity/doLuckDraw",O="/activity/getPrizeRecordList",z="/activity/getUserPrizeList",k="/activity/getUserActivityResults",j={getActivityDetail:function(){return g.a.get(y)},getActivityStatus:function(){return g.a.get(q)},report:function(t){var e={answerInfo:JSON.stringify(t),type:1};return g.a.post(b,e)},getPrizeList:function(t){return g.a.get(_,{params:t})},getLuckDrawInfo:function(){return g.a.get(C)},doLuckDraw:function(){return g.a.post(w)},getPrizeRecordList:function(){return g.a.get(O)},getUserPrizeList:function(){return g.a.get(z)},getActivityResult:function(t){return g.a.get(k,{params:t})}};function x(t){var e=t.questionList;return e.map(function(t){var e=t.options,n=JSON.parse(t.answerNum||"[]");n=n.reduce(function(t,e){return t[e.SerialNumber]=e.rate,t},{});var i=S(e,n,t.userAnswer,t.rightAnswer);return Object(d["a"])({},t,{options:i,checked:[],completed:!!t.userAnswer})})}function S(t,e,n,i){var s=JSON.parse(t);return"string"===typeof s?this.parseOptions(t):(s=s.map(function(t,s){"string"===typeof t&&(t=JSON.parse(t));var a=t.SerialNumber;return{value:a,label:t.content||"",img:t.img,right:i===a,checked:n===a,rate:e[a]||"0%",disabled:!1}}),s)}var I=n("6a0b"),$=n("f26e"),T=n("0582"),A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("inner-page",{staticClass:"v-happy-quiz-home",attrs:{type:"root",title:t.title,"header-background-color":t.hideShareBtn?"rgba(0,0,0,0.3)":"","show-close":t.hideShareBtn},on:{close:t.handleClose,share:t.toShare}},[n("wrapper",{attrs:{slot:"content",img:t.config.titleImg,"img-info":t.config.titleImgInfo,"logo-img":t.config.logo,title:t.config.title,schedule:t.config.schedule},slot:"content"},[n("template",{slot:"nav"},[2===t.status?n("img",{staticClass:"v-quiz-end",attrs:{src:t.endIcon,alt:""}}):t._e()]),["video"===t.quizType?n("div",{staticClass:"v-happy-quiz-home-jiabin"},[n("span",[t._v(t._s("-1"===t.question.numberPlate?"?":t.question.numberPlate))]),n("img",{attrs:{src:t._f("jointImgURL")("e8b319d62b09450a3b5d5fdf77e6bb3a"),alt:""}})]):t._e(),n("div",{staticClass:"v-happy-quiz-home-rolling",class:{"quiz-video":"video"===t.quizType}},[n("rolling",{attrs:{items:t.rollingItems}})],1),n("div",{staticClass:"v-happy-quiz-home-main"},[[2,4,6].includes(t.status)?n("question",{attrs:{"quiz-type":t.quizType},on:{over:t.handleOver,vote:t.handleVote,problemChanged:t.handleProblemChanged}}):n("result",{attrs:{"quiz-type":t.quizType},on:{over:t.handleOver,lottery:t.handleLottery}})],1),n("activity-info",{staticClass:"quiz-box",attrs:{rules:t.config.rules}})]],2)],1)},R=[],L=(n("6762"),n("2fdb"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"transition-fade"}},[i("cube-popup",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],attrs:{type:"dialog","z-index":t.zIndex,mask:!0,center:!0}},[i("div",{staticClass:"c-happy-quiz-lottery transition-fade-main"},[i("div",{staticClass:"c-happy-quiz-lottery-main"},[i("p",[t._v("很遗憾未能中奖")]),i("p",[t._v("再接再厉，你就是下一位幸运者")]),i("img",{attrs:{src:n("28e5"),alt:""}})]),i("img",{attrs:{src:n("49ec"),alt:""},on:{click:t.handleClose}})])])],1)}),P=[],E=n("11fd"),D=n("4e5f"),N={name:"CHappyQuizLottery",mixins:[E["a"],D["a"]],methods:{handleClose:function(){this.hide()}}},H=N,V=(n("8850"),n("2877")),Q=Object(V["a"])(H,L,P,!1,null,null,null),B=Q.exports,U=n("df9a"),J=n("8bbf");Object(U["a"])(J,B,["click"],!0);var M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vc-happy-quiz-result"},[n("count-down",{attrs:{title:"结果揭晓倒计时",time:t.countdown},on:{over:t.handleOver}}),n("div",{staticClass:"vc-happy-quiz-result-main quiz-box"},[5===t.status?[t._m(0),n("div",{staticClass:"vc-happy-quiz-result-main-line"})]:3===t.status&&"-1"===t.question.numberPlate&&"video"===t.quizType?[t._m(1),n("div",{staticClass:"vc-happy-quiz-result-main-line"})]:[n("span",{staticClass:"vc-happy-quiz-result-main-result"},[t._v("本轮竞猜结果："+t._s(t.rightAnswer&&t.rightAnswer.label))]),n("div",{staticClass:"vc-happy-quiz-result-main-line"}),n("div",{staticClass:"vc-happy-quiz-result-main-title"},[n("pre",[t._v(t._s(t.resultTxt))])])],n("div",{staticClass:"vc-happy-quiz-result-main-problem"},["quiz"===t.quizType?[n("span",{staticClass:"vc-happy-quiz-result-main-problem-title"},[t._v(t._s(t.question.title))]),n("ul",t._l(t.question.options,function(e,i){return n("li",{key:i,class:{"has-img":2===t.question.questionType}},[e.checked?n("img",{staticClass:"selected-avatar",attrs:{src:t._f("jointImgURL")(t.info.userIcon)}}):t._e(),2===t.question.questionType?n("img",{staticClass:"pic",attrs:{src:t._f("jointImgURL")(e.img)}}):t._e(),n("div",{staticClass:"right"},[e.label?n("span",{staticClass:"option-title",class:{"hetv-theme-color right-title":t.isHighlight(e)}},[t._v(t._s(e.label))]):t._e(),n("div",{staticClass:"percent"},[n("span",{staticClass:"percent-title",class:{"hetv-theme-bg-color highlight-title-color":t.isHighlight(e),"right-radius":"0%"===e.rate}},[t._v(t._s(e.rate))]),n("div",{staticClass:"inner-p-wrapper"},[n("span",{staticClass:"inner-p",class:{"hetv-theme-bg-color":t.isHighlight(e)},style:{width:e.rate}})])])])])}),0)]:[n("lucky-number",{attrs:{question:t.question}})]],2),3!==t.status&&7!==t.status||!t.userIsRight?t._e():n("div",{staticClass:"lottery hetv-theme-btn-bg-color",on:{click:t.handleLottery}},[t._v("\n      立即抽奖\n    ")])],2)],1)},W=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vc-happy-quiz-result-main-noti"},[n("p",[t._v("您已成功参与本次竞猜")]),n("p",[t._v(" 请关注结果揭晓时间！")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vc-happy-quiz-result-main-noti"},[n("p",[t._v("很遗憾")]),n("p",[t._v("本轮选手未能挑战成功")])])}],F=n("2f62"),Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vc-happy-quiz-lucky"},[n("div",{staticClass:"vc-happy-quiz-lucky-main"},[n("h2",[t._v(t._s(t.question.title))]),n("div",{staticClass:"vc-happy-quiz-lucky-options"},t._l(t.question.options,function(e,i){return n("div",{key:i,staticClass:"vc-happy-quiz-lucky-options-item-wrapper"},[n("div",{staticClass:"vc-happy-quiz-lucky-options-item",class:t.optionClass(e),on:{click:function(n){return t.handleCheck(e)}}},[t._v(t._s(e.label))])])}),0)])])},G=[],K={name:"VcHappyQuizLucky",props:{question:{type:Object,default:function(){return{}}}},methods:{optionClass:function(t){var e=this.question,n=e.completed,i=t.checked;return{"hetv-theme-btn-bg-color hetv-vote-problem-checked-border-color":i,checked:i,disabled:n&&!i}},handleCheck:function(t){var e=this.question,n=[t.value];this.$emit("change",e,n)}}},X=K,Y=(n("b6c0"),Object(V["a"])(X,Z,G,!1,null,null,null)),tt=Y.exports,et=n("a92b"),nt={name:"VcHappyQuizResult",components:{CountDown:et["a"],LuckyNumber:tt},props:{quizType:{type:String,default:"video"}},computed:Object(d["a"])({},Object(F["c"])({info:function(t){return t.user.info},questions:function(t){return t.questions},config:function(t){return t.config}}),{question:function(){return this.questions[0]||{}},status:function(){return this.config.status},countdown:function(){var t=this.config.unveiledTime,e=this.config.serviceTime,n=t-e;return n<=0?n:n+2},rightAnswer:function(){var t=this.question,e=t.options||[],n=e.filter(function(t){return t.right});return n[0]},userIsRight:function(){var t=this.question;return t.userAnswer===t.rightAnswer},resultTxt:function(){var t=this.config,e=t.result||{},n=this.userIsRight?t.trueTxt:t.falseTxt;return"".concat(n,"\n您累计竞猜").concat(e.questionNum,"次，正确率").concat(e.rightRate,"\n击败了").concat(e.beatRate,"的用户")},width:function(){var t="10%";return"width: calc(".concat(t," + 44px)")}}),methods:{isHighlight:function(t){return t.checked},handleLottery:function(){this.$emit("lottery")},handleOver:function(){this.$emit("over","resultOver")}}},it=nt,st=(n("34ab"),Object(V["a"])(it,M,W,!1,null,null,null)),at=st.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-rolling"},[n("div",{ref:"wrapper",staticClass:"c-rolling-wrapper"},[n("div",{ref:"scroll",staticClass:"c-rolling-content"},t._l(t.items,function(e){return n("span",{key:e,staticClass:"text-overflow",style:{"text-align":e.align||"left"}},[t._v("\n        "+t._s(e.text)+"\n      ")])}),0)])])},ot=[],ct=window.innerWidth,ut={name:"CRolling",props:{items:{type:Array,default:function(){return[]}}},watch:{items:function(){this.beginScroll()}},mounted:function(){this.beginScroll()},beforeDestory:function(){this.timer&&clearInterval(this.timer)},methods:{beginScroll:function(){var t=this;this.$nextTick(function(e){var n=t.items;if(!(n.length<=1)){t.timer&&clearInterval(t.timer);var i=t.$refs.scroll,s=t.$refs.wrapper,a=i.getBoundingClientRect(),r=a.height,o=s.getBoundingClientRect().height,c=3*ct/375,u=(r-c)/n.length,l=0;t.timer=setInterval(function(){l-=.3,-l>=r-.4*u&&(l=.5*o),i.style="\n        transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);\n        transition-duration: 0ms;\n        transform: translate(0px, ".concat(l,"px) scale(1) translateZ(0px);")},1e3/60)}})}}},lt=ut,ht=(n("b8db"),Object(V["a"])(lt,rt,ot,!1,null,null,null)),pt=ht.exports,ft=pt,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vc-happy-quiz-question"},[n("count-down",{attrs:{title:"竞猜倒计时",time:t.countdown},on:{over:t.handleOver}}),n("div",{staticClass:"vc-happy-quiz-question-main quiz-box"},["quiz"===t.quizType?n("problem",{attrs:{question:t.question},on:{change:function(e){return t.problemChanged(t.question,e)}}}):n("lucky-number",{attrs:{question:t.question},on:{change:t.problemChanged}}),n("div",{staticClass:"vc-happy-quiz-question-main-action"},[n("span",{staticClass:"hetv-theme-btn-bg-color",on:{click:t.handleVote}},[t._v("\n        提交\n      ")])])],1)],1)},vt=[],mt=n("db72"),gt={name:"VcHappyQuizQuestion",components:{CountDown:et["a"],Problem:mt["a"],LuckyNumber:tt},props:{quizType:{type:String,default:"video"}},computed:Object(d["a"])({},Object(F["c"])({info:function(t){return t.user.info},questions:function(t){return t.questions},config:function(t){return t.config}}),{question:function(){return this.questions[0]||{}},status:function(){return this.config.status},countdown:function(){var t=this.config.finishTime,e=this.config.serviceTime;return t-e}}),methods:{handleOver:function(){this.$emit("over","quizOver")},handleVote:function(){this.$emit("vote")},problemChanged:function(t,e){this.$emit("problemChanged",{question:t,checked:e})}}},bt=gt,yt=(n("d8e3"),Object(V["a"])(bt,dt,vt,!1,null,null,null)),qt=yt.exports,_t=n("97bd"),Ct=n("57af"),wt=n("5c0c"),Ot=n("23f6"),zt=n("751a"),kt=n("e490"),jt=n("0bf8"),xt="2"===Object(zt["a"])(kt["a"],"quiztype"),St={name:"VHappyQuizHome",components:{Wrapper:_t["a"],Question:qt,InnerPage:Ct["a"],ActivityInfo:wt["a"],Rolling:ft,Result:at},data:function(){return{rollingItems:[]}},computed:Object(d["a"])({},Object(F["c"])({info:function(t){return t.user.info},questions:function(t){return t.questions},config:function(t){return t.config}}),{question:function(){return this.questions[0]||{}},columnName:function(){return this.config.columnName||""},status:function(){return this.config.status},title:function(){return this.hideShareBtn?"竞猜活动":this.columnName},hideShareBtn:function(){return kt["d"]},quizType:function(){return xt?"video":"quiz"},endIcon:function(){return Ot["a"]["activity_finished"]}}),mounted:function(){this.changeRolling()},methods:{toShare:function(){var t="".concat("http://frontend.onairm.cn","/mini/happy.html?outer=1&activityId=").concat(kt["b"],"&originType=2"),e={type:1,url:t,title:"欢乐星期天，参与节目互动赢好礼",subTitle:"口袋里的电视，客厅里的精彩，花伴屏陪你速览电视。",logo:"FLOWER_icon.jpg"};Object(jt["k"])(e)},handleClose:function(){Object(jt["e"])(),this.handleOver()},handleLottery:function(){this.$createCHappyQuizLottery().show()},handleOver:function(t){"quizOver"===t?this.$store.commit("updateConfig",{status:6}):5===this.status&&this.fetchAnswer()},judgeStatus:function(t){return 2!==t&&6!==t||(Object($["d"])(2===this.status?"很抱歉，活动已结束":"竞猜答题已截止","error"),!1)},handleProblemChanged:function(t){var e=t.question,n=t.checked;this.judgeStatus(this.status)&&(e.checked=n,e.options.forEach(function(t){t.checked=n.includes(t.value)}))},handleVote:function(){var t=this;if(this.judgeStatus(this.status)){var e=this.questions[0];if(e.checked.length<=0)Object($["d"])("请选择选项","error");else{var n=Object($["c"])("提交中");this.report().then(function(e){var i=e.status;n.hide(),2===i||6===i?(t.judgeStatus(i),t.$store.commit("updateConfig",{status:i})):(Object($["d"])("提交成功","error"),t.fetchData())}).catch(function(t){n.hide()})}}},report:function(){var t=this.questions.map(function(t){return{questionId:t.columnAcQuestionId,answer:t.checked.join(",")}});return j.report(t)},fetchAnswer:function(){var t=this,e=Object($["c"])("结果揭晓中");j.getActivityStatus().then(function(n){setTimeout(function(){var i=n.status,s=n.result,a=x(n);t.$store.commit("updateQuestions",a),t.$store.commit("updateConfig",{status:i,result:s}),t.changeRolling(),e.hide()},1e3)}).catch(function(t){e.hide()})},fetchData:function(){var t=this,e=Object($["c"])("加载中");return Promise.all([j.getActivityDetail(),j.getActivityStatus()]).then(function(n){setTimeout(function(){e.hide()},1e3);var i=n[0],s=n[1],a=s.status,r=s.result,o=x(s);t.$store.commit("updateQuestions",o),t.$store.commit("updateConfig",Object(d["a"])({},i,{status:a,result:r}))}).catch(function(t){e.hide()})},changeRolling:function(){var t=this;this.rollingItems=[{text:"惊喜大奖等你来拿",align:"center"}];var e=this.status;[2,3,7].includes(e)&&j.getPrizeRecordList().then(function(e){(e||Array.isArray(e)||e.length>0)&&(t.rollingItems=e.map(function(t){return{text:"恭喜手机号".concat(t.userPhone||"xxxx","的用户获得本轮同款奖品")}}))})}}},It=St,$t=(n("06f7"),Object(V["a"])(It,A,R,!1,null,"9a5a03b4",null)),Tt=$t.exports,At={name:"VQuizIndex",components:{Home:Tt},inject:["headless"],data:function(){return{questions:[],config:{},show:!1}},created:function(){this.headless||(this.fetchData(),this.reportET())},methods:{reportET:function(){var t={type:1,method:1,item:1};Object(v["a"])("national",t)},loadCss:function(t,e){var n="\n      .hetv-theme-color { color: ".concat(t," !important; }\n      .hetv-vote-problem-checked-color { color: ").concat(t," !important; }\n      .hetv-vote-problem-checked-border-color { border-color: ").concat(t," !important; }\n      .hetv-theme-bg-color { background-color: ").concat(t," !important; }\n      .hetv-theme-btn-bg-color { background-color: ").concat(t," !important; }\n      .hetv-theme-bg-image {background-image:url(").concat(e,") !important; background-size:cover;background-position:center;background-repeat:no-repeat}\n      ");Object(T["b"])(n)},parseData:function(t,e){var n=t.buttonColor,i=t.templateImg,s=e.status,a=e.result;this.loadCss(n,Object(I["e"])(i)),this.config=Object(d["a"])({},t,{status:s,result:a}),this.$store.commit("updateQuestions",x(e)),this.$store.commit("updateConfig",Object(d["a"])({},t,{status:s,result:a})),this.show=!0},fetchData:function(){var t=this,e=Object($["c"])("加载中",this);Promise.all([j.getActivityDetail(),j.getActivityStatus()]).then(function(n){e&&e.hide();var i=n[0],s=n[1];t.parseData(i,s)}).catch(function(t){e&&e.hide()})}}},Rt=At,Lt=Object(V["a"])(Rt,p,f,!1,null,null,null),Pt=Lt.exports,Et={name:"VHappyQuiz",components:{Index:Pt},computed:{headless:function(){return window["__PRERENDER_INJECTED"]}},provide:function(){return{headless:this.headless}}},Dt=Et,Nt=Object(V["a"])(Dt,l,h,!1,null,null,null),Ht=Nt.exports,Vt=n("2147"),Qt=n("8bbf");Qt.use(F["a"]);var Bt=new F["a"].Store({modules:{user:Vt["a"]},state:{awards:[],questions:[],config:{}},mutations:{updateQuestions:function(t,e){t.questions=e},updateConfig:function(t,e){t.config=Object(d["a"])({},t.config,e)},updateAwards:function(t,e){t.awards=e}}}),Ut=(n("35ab"),n("8de7")),Jt=n("8bbf");Object(Ut["a"])();var Mt=new Jt({store:Bt,mounted:function(){document.dispatchEvent(new Event("render-event"))},render:function(t){return t(Ht)}}).$mount("#app");window.rootApp=Mt},b262:function(t,e,n){},b4a1:function(t,e,n){},b6c0:function(t,e,n){"use strict";var i=n("5db3"),s=n.n(i);s.a},b8db:function(t,e,n){"use strict";var i=n("257c"),s=n.n(i);s.a},c817:function(t,e,n){"use strict";var i=n("5018"),s=n.n(i);s.a},d8e3:function(t,e,n){"use strict";var i=n("b4a1"),s=n.n(i);s.a},db72:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-vote-problem"},[n("h2",[t._v(t._s(t.question.title))]),n("cube-checkbox-group",{attrs:{value:t.question.checked},on:{input:t.change}},t._l(t.question.options,function(e){return n("div",{key:e.value,staticClass:"b-vote-problem-checkbox",class:Object.assign({},{"hetv-vote-problem-checked-color":t.question.checked.includes(e.value)&&"showState"!==t.type},t.stateOptionClass(e))},[n("cube-checkbox",{attrs:{option:e}},[n("div",{staticClass:"problem-checkbox-main"},[2===t.question.questionType?n("img",{staticClass:"img",attrs:{src:t._f("jointThumbURL")(e.img)}}):t._e(),n("div",{staticClass:"right"},[n("span",{staticClass:"label"},[t._v(t._s(e.label))]),"showState"===t.type?n("div",{staticClass:"b-vote-problem-state-icon",class:Object.assign({},t.stateOptionClass(e))}):t._e()])])])],1)}),0)],1)},s=[],a=(n("6762"),n("2fdb"),{name:"BVoteProblem",props:{question:{type:Object,default:function(){return{}}},type:{type:String,default:""}},methods:{stateOptionClass:function(t){if("showState"!==this.type)return{};var e=this.question,n=e.completed,i=e.checked&&e.checked.includes(t.value),s=e.rights&&e.rights.includes(t.value);return{selected:!n&&i,success:n&&s,error:n&&!s&&i}},change:function(t){var e=t;1===this.question.isRadio&&e.length>1&&(e=[e.pop()]),this.$emit("change",e)}}}),r=a,o=(n("2be1"),n("2877")),c=Object(o["a"])(r,i,s,!1,null,"6a15d1a6",null);e["a"]=c.exports},e92f:function(t,e,n){}});